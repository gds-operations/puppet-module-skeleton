require 'spec_helper_acceptance'

context 'unsupported operating system' do
  describe '<%= metadata.name %> class without any parameters on Solaris/Nexenta' do
#    let(:facts) {{
#      :osfamily        => 'Solaris',
#      :operatingsystem => 'Nexenta',
#    }}

    it { expect { should }.to raise_error(Puppet::Error, /Nexenta not supported/) }
    pp = <<-EOS
    class { '<%= metadata.name %>': }
    EOS

    apply_manifest(pp, :catch_failures => true)
  end
end
